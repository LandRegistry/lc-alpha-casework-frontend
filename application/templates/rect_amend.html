<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Land Charges</title>
    {% include 'includes/ext_references.html' %}
    {% include 'includes/image_view_head.html' %}


    <script>
    function nameClick(sender,n){
        jQuery('<div class="form-group"> \
                    <label class="control-label col-sm-2" for="aliasforename">Alias first name(s)</label> \
                    <div class="col-sm-10"> \
                        <input class="form-control defined" id="aliasforename' +n+ '" name="aliasforename' +n+ '" value="{{aliasforename}}"> \
                    </div> \
                </div> \
                <div class="form-group"> \
                    <label class="control-label col-sm-2" for="aliassurname">Alias Surname</label> \
                    <div class="col-sm-10"> \
                        <input class="form-control defined" id="aliassurname' +n+ '" name="aliassurname' +n+ '" value="{{aliassurname}}"> \
                    </div> \
                </div>').insertBefore("#addname");
                n ++;
        console.log(n);
    };
    </script>

    <script>
    function addrClick(sender,i){
        jQuery('<div class="form-group"> \
                    <label class="control-label col-sm-2" for="address1' +i+ '">Additional address</label> \
                    <div class="col-sm-10"> \
                        <input class="form-control defined" id="address1' +i+ '" name="address1' +i+ '" value="{{address1}}"> \
                    </div> \
                    <label class="control-label col-sm-2" for="address2' +i+ '"></label> \
                    <div class="col-sm-10"> \
                        <input class="form-control defined" id="address2' +i+ '" name="address2' +i+ '" value="{{addresss2}}"> \
                    </div> \
                    <label class="control-label col-sm-2" for="address3' +i+ '"></label> \
                    <div class="col-sm-10"> \
                        <input class="form-control defined" id="address3' +i+ '" name="address3' +i+ '" value="{{address3}}"> \
                    </div> \
                    <label class="control-label col-sm-2" for="county' +i+ '">County</label> \
                    <div class="col-sm-10"> \
                        <input class="form-control defined" id="county' +i+ '" name="county' +i+ '" value="{{county}}"> \
                    </div> \
                    <label class="control-label col-sm-2" for="postcode' +i+ '">Postcode</label> \
                    <div class="col-sm-10"> \
                        <input class="form-control defined" id="postcode' +i+ '" name="postcode' +i+ '" value="{{postcode}}"> \
                    </div> \
                </div>').insertBefore("#addaddr");
                i ++;
        console.log(i);
    };
    </script>

    <script>
        function swap(new_image){
            document.getElementById("main_image").src=new_image.src;
            alert("check thumbnail");
            if ( jQuery('#thumbnail_1').hasClass('active') ) {
                jQuery('#thumbnail_1').removeClass('active');
             }  else if ( jQuery('#thumbnail_2').hasClass('active') ) {
                jQuery('#thumbnail_2').removeClass('active');
             }
             jQuery('#'+ new_image.id).addClass('active');
     };
    </script>

</head>
<body>
<form class="form-horizontal" role="form" action="/process_rectification" method="POST">
<div id="main" class="container" style="margin-top:20px !important;">
    <div class="container">
        <div class="row">
            <div class="navbar navbar-default navbar-fixed-top">
                <div class="container">
                    <div>
                        <div class="navbar-header">
                            <h3>Land Charges</h3>
                        </div>
                        <div class="collapse navbar-collapse" >
                            <ul class="nav navbar-nav" style="margin-top:10px; margin-left:100px;">
                                <li><a href="/">Work List</a></li>
                                <li><a href="/" class="dropdown-toggle" data-toggle="dropdown">Tasks<b class="caret"></b></a>
                                    <ul class="dropdown-menu" role="menu">
                                        <li><a href="/start_rectification">Rectify</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container" style="margin-top: 80px;">
        <h4>Bankruptcy Rectification</h4>
        <div class="row col-sm-12">
            <ul class="row breadcrumb" style="background-color: #ffffff;">
                <li><a href="/start_rectification">Document request</a></li>
                <li>Rectify</li>
                <li>Summary and Save</li>
            </ul>
        </div>

            <div id="full_image" class="row col-sm-10" style="width:80%; height:300px; overflow: scroll;">
                <img id="main_image" src="{{images[0]}}"/>
            </div>
        <!--div class="row col-sm-10" id="imageContainer" style="margin-top:10px; height:30em; width:80%; overflow: scroll;">
            <img src="{{images[0]}}" alt="" id="page1" style="width:100%"/>
        </div-->
        <div id="thumbnails" class="col-sm-2">
            {% for image in images %}
            <div class="col-sm-12">
                <img class="thumbnail{% if loop.index == 1 %} active{% endif %}" src="{{image}}" alt="" id="thumbnail_{{loop.index}}" onclick="swap(this);"/>
            </div>
            {% endfor %}
        </div>
        <div class="row col-sm-12">
        <div class="row col-sm-10" style="margin-top:1em;">
            <div class="panel panel-primary">

                <div class="panel-heading">
                    <h3 class="panel-title">Application details</h3>
                </div>
                <div class="panel-body" style="height:28em; overflow:scroll;">
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="forenames">First name(s)</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control defined" name="forenames" id="forenames"
                                       value="{{ data.debtor_name.forenames|join(' ') }}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="surname">Surname</label>
                            <div class="col-sm-10">
                                <input type="text" name="surname" id="surname" class="form-control defined"
                                       value="{{data.debtor_name.surname}}"/>
                            </div>
                        </div>
                        {% set count = 0 %}
                        {% for name in data.debtor_alternative_name %}
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="aliasforename{{count}}">Alias first name(s)</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control defined" name="aliasforename{{count}}" id="aliasforename{{count}}"
                                       value="{{ name.forenames|join(' ') }}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="aliassurname{{count}}">Alias surname</label>
                            <div class="col-sm-10">
                                <input type="text" name="aliassurname{{count}}" id="aliassurname{{count}}" class="form-control defined"
                                       value="{{name.surname}}"/>
                            </div>
                        </div>
                        {% set count = count + 1 %}
                        {% endfor %}
                        <div class="form-group col-sm-12">
                            <input id="addname" onclick="nameClick(this,{{data.debtor_alternative_name|length}})" class="btn btn-primary pull-right"
                                   type="button" value="Add alias name">
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="occupation">Occupation</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control defined" id="occupation" name="occupation"
                                       value="{{data.occupation}}"/>
                            </div>
                        </div>
                        {% set count_addr = 0 %}
                        {% for address in data.residence %}
                        <div style="margin-top:20px;">
                            <div class="form-group">
                                <label class="control-label col-sm-2" for="address1{{count_addr}}">Address{{count_addr + 1}}</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control defined" name="address1{{count_addr}}" id="address1{{count_addr}}"
                                           value="{{address.address_lines[0]}}"/>
                                </div>
                                <label class="control-label col-sm-2" for="address2{{count_addr}}"></label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control defined" name="address2{{count_addr}}" id="address2{{count_addr}}"
                                           value="{{address.address_lines[1]}}"/>
                                </div>
                                <label class="control-label col-sm-2" for="address3{{count_addr}}"></label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control defined" name="address3{{count_addr}}" id="address3{{count_addr}}"
                                           value="{{address.address_lines[2]}}"/>
                                </div>
                                <label class="control-label col-sm-2" for="county{{count_addr}}">County</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control defined" name="county{{count_addr}}" id="county{{count_addr}}"
                                           value="{{address.county}}"/>
                                </div>
                                <label class="control-label col-sm-2" for="postcode{{count_addr}}">Postcode</label>
                                <div class="col-sm-10">
                                    <input type="text" class="form-control defined" name="postcode{{count_addr}}" id="postcode{{count_addr}}"
                                           value="{{address.postcode}}"/>
                                </div>
                            </div>
                        </div>
                        {% set count_addr = count_addr + 1 %}
                        {% endfor %}
                        <div class="col-sm-12">
                            <input id="addaddr" onclick="addrClick(this,{{data.residence|length}})" class="btn btn-primary pull-right"
                                   type="button" value="Add Address">
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="court">Court name</label>
                            <div class="col-sm-10">
                                <input type="text" name="court" id="court" class="form-control defined"
                                       value="{{data.legal_body}}"/>
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="control-label col-sm-2" for="ref">Court number</label>
                            <div class="col-sm-10">
                                <input type="text" name="ref" id="ref" class="form-control defined"
                                       value="{{data.legal_body_ref}}"/>
                            </div>
                        </div>
                </div>

            </div>

        </div>
        </div>
        <div style="margin-top:28em;">
            <input class="btn-lg pull-right btn-primary" id="save_changes" type="submit" value="Continue"/>
        </div>

    </div>
</div>
</form>
</body>
</html>